<form class="form">
  <div class="form-container">
    <h2>{{"Event" | translate}}</h2>
    <br />

    <div class="input-end">
      <mat-label>{{"Tytuł" | translate}}</mat-label>
      <input
        matInput
        placeholder="Tytuł"
        [formControl]="title"
        [(ngModel)]="newEvent.title"
        required
      />
      <mat-error *ngIf="title.invalid">{{ getErrorTitleMessage() }}</mat-error>
    </div>

    <div class="input-end">
      <mat-label>{{"Opis" | translate}}</mat-label>
      <ckeditor
        class="desc"
        [formControl]="description"
        [editor]="Editor"
        [config]="config"
        data=""
        (ready)="onReady($event)"
        (blur)="onChange($event)"
      >
      </ckeditor>
      <mat-error *ngIf="description.invalid">{{
        getErrorDescriptionMessage()
      }}</mat-error>
    </div>

    <label for="">{{"Tagi" | translate}}</label>
    <div class="input-end">
      <mat-form-field>
        <mat-label>{{"Tagi" | translate}}</mat-label>
        <mat-select
          class="selectTag"
          [formControl]="toppings"
          [(value)]="selectedToppings"
          multiple
        >
          <mat-option *ngFor="let tag of allTags" [value]="tag.name">{{
            tag.name
          }}</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-error *ngIf="toppings.invalid">{{
        getErrorToppingsMessage()
      }}</mat-error>
    </div>

    <div class="input-end">
      <label for="">{{"Link do zdjęcia" | translate}}</label>
      <input
        type="file"
        accept="image/*"
        name="img"
        (change)="onFileSelected($event)"
        required
      />
    </div>

    <div class="input-end">
      <mat-label>{{"Miejsce" | translate}}</mat-label>
      <br />
      <input
        #placesRef="ngx-places"
        ngx-gp-autocomplete
        (onAddressChange)="handleAddressChange($event)"
        matInput
        placeholder="Miejsce"
        [formControl]="place"
        [(ngModel)]="newEvent.place"
        required
      />
      <mat-error *ngIf="place.invalid">{{ getErrorPlaceMessage() }}</mat-error>
    </div>

    <div class="input-end">
      <mat-label>Data</mat-label>
      <br />
      <input
        type="datetime-local"
        name="data"
        [formControl]="date"
        [(ngModel)]="newEvent.eventDate"
        required
      />
      <mat-error *ngIf="date.invalid">{{ getErrorDateMessage() }}</mat-error>
    </div>

    <div class="input-end">
      <label for="">{{"Link" | translate}}</label>
      <input type="text" name="link" [(ngModel)]="newEvent.link" required />
    </div>

    <div class="buttons">
      <a
        ><button (click)="onSubmit(newEvent)" class="btn-secondary">
          {{"Edytuj" | translate}}
        </button></a
      >
    </div>
  </div>
</form>
